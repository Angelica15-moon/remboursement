{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\almiarinantena\\\\Documents\\\\remboursement\\\\frontend\\\\src\\\\Connexion.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'; // Importez Link depuis react-router-dom\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Connexion extends Component {\n  constructor() {\n    super();\n    this.handleUsernameChange = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n    this.addUserMapping = () => {\n      const {\n        username,\n        password\n      } = this.state;\n\n      // Afficher les données que vous envoyez au serveur dans la console\n      console.log(JSON.stringify({\n        username,\n        password\n      }));\n      if (username && password) {\n        // Envoi des données au backend pour l'insertion en base de données\n        fetch('http://localhost:3002/collecteur', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username,\n            password\n          })\n        }).then(response => response.json()).then(data => {\n          console.log('Réponse du serveur:', data);\n          if (data.message === 'Utilisateur authentifié') {\n            // Utilisateur authentifié avec succès, mettez à jour l'état loggedIn\n            this.setState({\n              loggedIn: true\n            });\n          }\n          // Efface les champs de saisie après l'insertion\n          this.setState({\n            username: '',\n            password: ''\n          });\n        }).catch(error => {\n          console.error('Erreur:', error);\n        });\n      }\n    };\n    this.state = {\n      username: '',\n      password: '',\n      loggedIn: false\n    };\n  }\n  render() {\n    const {\n      loggedIn,\n      username\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Connexion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), loggedIn ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Bonjour, \", username, \" !\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nom d'utilisateur\",\n          value: this.state.username,\n          onChange: this.handleUsernameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Mot de passe\",\n          value: this.state.password,\n          onChange: this.handlePasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.addUserMapping,\n          children: \"Ajouter la correspondance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Vous n'avez pas de compte ? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/inscription\",\n          children: \"S'inscrire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Connexion;","map":{"version":3,"names":["React","Component","Link","jsxDEV","_jsxDEV","Connexion","constructor","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","addUserMapping","state","console","log","JSON","stringify","fetch","method","headers","body","then","response","json","data","message","loggedIn","catch","error","render","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick","to"],"sources":["C:/Users/almiarinantena/Documents/remboursement/frontend/src/Connexion.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'; // Importez Link depuis react-router-dom\r\n\r\nclass Connexion extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      loggedIn: false,\r\n    };\r\n  }\r\n\r\n  handleUsernameChange = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  }\r\n\r\n  handlePasswordChange = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n\r\n  addUserMapping = () => {\r\n    const { username, password } = this.state;\r\n\r\n    // Afficher les données que vous envoyez au serveur dans la console\r\n    console.log(JSON.stringify({ username, password }));\r\n\r\n    if (username && password) {\r\n      // Envoi des données au backend pour l'insertion en base de données\r\n      fetch('http://localhost:3002/collecteur', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n      })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          console.log('Réponse du serveur:', data);\r\n          if (data.message === 'Utilisateur authentifié') {\r\n            // Utilisateur authentifié avec succès, mettez à jour l'état loggedIn\r\n            this.setState({ loggedIn: true });\r\n          }\r\n          // Efface les champs de saisie après l'insertion\r\n          this.setState({ username: '', password: '' });\r\n        })\r\n        .catch(error => {\r\n          console.error('Erreur:', error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loggedIn, username } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h2>Connexion</h2>\r\n        {loggedIn ? (\r\n          <p>Bonjour, {username} !</p>\r\n        ) : (\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Nom d'utilisateur\"\r\n              value={this.state.username}\r\n              onChange={this.handleUsernameChange}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Mot de passe\"\r\n              value={this.state.password}\r\n              onChange={this.handlePasswordChange}\r\n            />\r\n            <button onClick={this.addUserMapping}>Ajouter la correspondance</button>\r\n          </div>\r\n        )}\r\n        <p>Vous n'avez pas de compte ? <Link to=\"/inscription\">S'inscrire</Link></p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Connexion;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}